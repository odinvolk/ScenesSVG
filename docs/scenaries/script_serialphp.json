{"SCRIPTS":[{"TITLE":"serialphp","DESCRIPTION":"","CODE":"\/\/include 'PhpSerial.php'; php_serial.class.php\r\ninclude '.\/scripts\/PhpSerial.php';\r\n$serial = new PhpSerial;\r\n    $serial->deviceSet(\"\/dev\/ttyS0\");\r\n    $serial->confBaudRate(9600);\r\n    $serial->confParity(\"none\");\r\n    $serial->confCharacterLength(8);\r\n    $serial->confStopBits(1);\r\n    $serial->confFlowControl(\"none\");\r\n\r\n$serial->deviceOpen();\r\n$readx = $serial->readPortLine(100,\"\\n\");\r\necho nl2br(\"\\n\".$readx.\"\\n\\n\");\r\n$read0 = $serial->readPortLine(24,\"\");\r\necho nl2br(\"\\n\".$read0.\"\\n\\n\");\r\n\/\/$read1 = $serial->readPortLine(24,\"\");\r\n$serial -> deviceClose();\r\n$readxx = explode(\" \",$readx);\r\nprint_r($readxx);\r\necho nl2br(\"\\n\".$readxx[0].\"\\n\"); \/\/test\r\n$read00 = explode(\" \",$read0);\r\nprint_r($read00);\r\n\/\/$read11 = explode(\" \",$read1);\r\n$arrCount = count($read00);\r\nfor($x=0;$x<$arrCount;$x++){\r\n    $m=1;\r\n    if ($read00[$x]>0){\r\n        $m=$read00[$x];\r\n        break;\r\n    }\r\n}\r\n$massCharNum = $x;\r\nfor($x=0;$x<$arrCount;$x++){\r\n    $unit=1;\r\n    if (ctype_alpha($read00[$x])){\r\n        $unit=$read00[$x];\r\n        break;\r\n    }\r\n}\r\n\r\ndate_default_timezone_set('Europa\/Moscov');\r\necho nl2br(\"\\n\\nDebug String: \".$read0.\"\\n\");\r\necho nl2br(\"Mass: \".$m.\"\\n\");\r\necho nl2br(\"Unit: \".$unit.\"\\n\");\r\necho nl2br(\"Time: \".date(\"n\/j\/y H:i:s\",time()).\"\\n\\n\");","RUN_PERIODICALLY":"0","RUN_DAYS":"","RUN_TIME":"00:00","AUTO_LINK":"0","LINKED_OBJECT":"","LINKED_PROPERTY":"","CATEGORY_TITLE":"\u0421\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435"}]}